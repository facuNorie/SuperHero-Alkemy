var e=Object.defineProperty,t=Object.defineProperties,a=Object.getOwnPropertyDescriptors,l=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,o=(t,a,l)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l,s=(e,t)=>{for(var a in t||(t={}))n.call(t,a)&&o(e,a,t[a]);if(l)for(var a of l(t))r.call(t,a)&&o(e,a,t[a]);return e},m=(e,l)=>t(e,a(l));import{R as c,u as i,a as d,C as p,_ as u,b as g,E as b,F as h,c as E,d as f,e as v,f as y,S as w,g as N,h as x,i as S,j,P as k}from"./vendor.0ae1ec9f.js";function I(e,t){return{type:"@hero/add",payload:e,alignment:t}}function T(e){return{type:"@ui/spinner",payload:e}}function O({hero:e}){return c.createElement("ul",{className:"list-group",style:{backdropFilter:"blur(5px)"}},c.createElement("p",{className:"card-title text-dark bg-light p-1 mb-0"},e.name),c.createElement("li",{className:"list-group-item py-1 bg-transparent text-light d-flex justify-content-between align-items-center"},"Combat",c.createElement("span",{className:e.powerstats.combat>=50?"badge bg-success badge-pill":"badge bg-danger badge-pill"},e.powerstats.combat)),c.createElement("li",{className:"list-group-item py-1 bg-transparent text-light d-flex justify-content-between align-items-center"},"Durability",c.createElement("span",{className:e.powerstats.durability>=50?"badge bg-success badge-pill":"badge bg-danger badge-pill"},e.powerstats.durability)),c.createElement("li",{className:"list-group-item py-1 bg-transparent text-light d-flex justify-content-between align-items-center"},"Intelligence",c.createElement("span",{className:e.powerstats.intelligence>=50?"badge bg-success badge-pill":"badge bg-danger badge-pill"},e.powerstats.intelligence)),c.createElement("li",{className:"list-group-item py-1 bg-transparent text-light d-flex justify-content-between align-items-center"},"Power",c.createElement("span",{className:e.powerstats.power>=50?"badge bg-success badge-pill":"badge bg-danger badge-pill"},e.powerstats.power)),c.createElement("li",{className:"list-group-item py-1 bg-transparent text-light d-flex justify-content-between align-items-center"},"Speed",c.createElement("span",{className:e.powerstats.speed>=50?"badge bg-success badge-pill":"badge bg-danger badge-pill"},e.powerstats.speed)),c.createElement("li",{className:"list-group-item py-1 bg-transparent text-light d-flex justify-content-between align-items-center"},"Strength",c.createElement("span",{className:e.powerstats.strength>=50?"badge bg-success badge-pill":"badge bg-danger badge-pill"},e.powerstats.strength)))}function _({hero:e}){return c.createElement("ul",{className:"list-group"},c.createElement("li",{className:"list-group-item p-1 d-flex justify-content-around"},c.createElement("p",{className:"m-0 fw-bold"},"Full name"),c.createElement("p",{className:"m-0"}," ",e.biography["full-name"])),c.createElement("li",{className:"list-group-item p-1 d-flex justify-content-around"},c.createElement("p",{className:"m-0 fw-bold"},"Alias"),c.createElement("p",{className:"m-0"}," ",e.name)),c.createElement("li",{className:"list-group-item p-1 d-flex justify-content-around"},c.createElement("p",{className:"m-0 fw-bold"},"Race"),c.createElement("p",{className:"m-0"}," ",e.appearance.race)),c.createElement("li",{className:"list-group-item p-1 d-flex justify-content-around"},c.createElement("p",{className:"m-0 fw-bold"},"Base"),c.createElement("p",{className:"m-0",style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}," ",e.work.base)),c.createElement("li",{className:"list-group-item p-1 d-flex justify-content-around"},c.createElement("p",{className:"m-0 fw-bold"},"Occupation"),c.createElement("p",{className:"m-0",style:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}," ",e.work.occupation)),c.createElement("li",{className:"list-group-item p-1 d-flex justify-content-around"},c.createElement("p",{className:"m-0 fw-bold"},"Height"),c.createElement("p",{className:"m-0"}," ",e.appearance.height[1])),c.createElement("li",{className:"list-group-item p-1 d-flex justify-content-around"},c.createElement("p",{className:"m-0 fw-bold"},"Weight"),c.createElement("p",{className:"m-0"}," ",e.appearance.weight[1])),c.createElement("li",{className:"list-group-item p-1 d-flex justify-content-around"},c.createElement("p",{className:"m-0 fw-bold"},"Hair color"),c.createElement("p",{className:"m-0"}," ",e.appearance["hair-color"])),c.createElement("li",{className:"list-group-item p-1 d-flex justify-content-around"},c.createElement("p",{className:"m-0 fw-bold"},"Eye color"),c.createElement("p",{className:"m-0"}," ",e.appearance["eye-color"])))}function R({hero:e}){i((e=>null==e?void 0:e.myTeam));const t=d(),[a,l]=p.exports.useState(!1),n=()=>{l(!a)};return c.createElement("div",{className:"col-12 col-sm-6 col-md-4 col-xl-3 my-2",key:e.id},c.createElement(u,{isFlipped:a,containerStyle:{height:"100%"}},c.createElement("div",{className:"card h-100 overflow-hidden"},c.createElement("img",{src:e.image.url,className:"card-img h-100"}),c.createElement("p",{className:"good"===e.biography.alignment?"position-absolute text-light m-1 rounded px-1 bg-success":"position-absolute text-light m-1 rounded px-1 bg-danger",style:{right:"0"}},"good"===e.biography.alignment?"good":"bad"),c.createElement("div",{className:"card-img-overlay text-center d-flex flex-column justify-content-end"},c.createElement(O,{hero:e}),c.createElement("div",{className:"mt-1"},c.createElement("div",{className:"d-flex justify-content-evenly"},c.createElement("button",{onClick:()=>{var a;t(function(e,t){return{type:"@hero/remove",payload:e,alignment:t,idHeroToRemove:e.id}}(a=e,a.biography.alignment))},className:"btn btn-danger"},c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-trash-fill",viewBox:"0 0 16 16"},c.createElement("path",{d:"M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"}))),c.createElement("button",{className:"btn btn-primary",onClick:()=>n()},c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-box-arrow-in-right",viewBox:"0 0 16 16"},c.createElement("path",{fillRule:"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0v-2z"}),c.createElement("path",{fillRule:"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3z"}))))))),c.createElement("div",{className:"card h-100 overflow-hidden bg-dark"},c.createElement("img",{src:e.image.url,className:"card-img h-100"}),c.createElement("div",{className:"card-img-overlay text-center d-flex flex-column justify-content-center"},c.createElement(_,{hero:e}),c.createElement("div",{className:"mt-1"},c.createElement("button",{className:"btn btn-primary",onClick:()=>n()},c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-box-arrow-in-left",viewBox:"0 0 16 16"},c.createElement("path",{fillRule:"evenodd",d:"M10 3.5a.5.5 0 0 0-.5-.5h-8a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h8a.5.5 0 0 0 .5-.5v-2a.5.5 0 0 1 1 0v2A1.5 1.5 0 0 1 9.5 14h-8A1.5 1.5 0 0 1 0 12.5v-9A1.5 1.5 0 0 1 1.5 2h8A1.5 1.5 0 0 1 11 3.5v2a.5.5 0 0 1-1 0v-2z"}),c.createElement("path",{fillRule:"evenodd",d:"M4.146 8.354a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H14.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3z"}))))))))}function A(){const e=i((e=>null==e?void 0:e.myTeam)),[,t]=g();return c.createElement("div",{className:"h-75 w-100 container-fluid overflow-auto containerResults",style:{backdropFilter:"blur(5px)"}},c.createElement("div",{className:"row justify-content-center"},null==e?void 0:e.map((e=>c.createElement(R,{key:e.id,hero:e}))),(null==e?void 0:e.length)?c.createElement("span",null):c.createElement("div",{className:"col-12 col-sm-4 col-lg-3 my-2",style:{cursor:"pointer",height:"400px",width:"300px"},onClick:()=>t("/search")},c.createElement("div",{className:"h-100 rounded d-flex justify-content-center align-items-center",style:{border:"2px dashed #ddd",color:"#fff",fontWeight:"bold"}},"Add hero +"))))}function C(){const e=i((e=>null==e?void 0:e.myTeam)),[t,a]=p.exports.useState([]),[l,n]=p.exports.useState([]),[r,o]=p.exports.useState(""),[s,m]=p.exports.useState("");return p.exports.useEffect((()=>{e.length&&(a(Object.values((()=>{let t=null==e?void 0:e.map((e=>e.powerstats)),a=t.map((e=>parseInt(e.combat)));a=null==a?void 0:a.reduce(((e,t)=>e+t));let l=t.map((e=>parseInt(e.durability)));l=null==l?void 0:l.reduce(((e,t)=>e+t));let n=t.map((e=>parseInt(e.intelligence)));n=null==n?void 0:n.reduce(((e,t)=>e+t));let r=t.map((e=>parseInt(e.power)));r=null==r?void 0:r.reduce(((e,t)=>e+t));let o=t.map((e=>parseInt(e.speed)));o=null==o?void 0:o.reduce(((e,t)=>e+t));let s=t.map((e=>parseInt(e.strength)));return s=null==s?void 0:s.reduce(((e,t)=>e+t)),[{powername:"Combat",powervalue:a},{powername:"Durability",powervalue:l},{powername:"Intelligence",powervalue:n},{powername:"Power",powervalue:r},{powername:"Speed",powervalue:o},{powername:"Strength",powervalue:s}]})())),(()=>{let t=e.map((e=>e.appearance.height[1])),a=t.map((e=>e.split(" ")));t=a.map((e=>parseInt(e[0]))),a=t.reduce(((e,t)=>e+t))/t.length,o(Math.trunc(a));let l=e.map((e=>e.appearance.weight[1])),n=l.map((e=>e.split(" ")));l=n.map((e=>parseInt(e[0]))),n=l.reduce(((e,t)=>e+t))/l.length,m(Math.trunc(n))})())}),[e]),p.exports.useEffect((()=>{t.length&&(()=>{let e=null==t?void 0:t.map((e=>e.powervalue)),a=Math.max(...e);n(null==t?void 0:t.filter((e=>e.powervalue===a)))})()}),[t]),c.createElement("div",{className:"h-15 w-100 container-fluid"},l.length?c.createElement("div",{className:"text-center m-1"},c.createElement("div",{className:"bg-dark d-inline-flex p-1 align-items-center rounded"},c.createElement("h6",{className:"m-0 text-white p-1"},"Team category"),c.createElement("span",{className:"badge bg-info"},l[0].powername))):c.createElement("span",null),c.createElement("ul",{className:"list-group d-flex flex-row overflow-auto ulStats"},null==t?void 0:t.map((e=>c.createElement("li",{className:"list-group-item flex-grow-1 text-center",key:e.powername},c.createElement("h6",{className:"m-1"},"Total ",e.powername,c.createElement("br",null),c.createElement("span",{className:"badge rounded-pill bg-primary mt-1"},e.powervalue))))),c.createElement("li",{className:"list-group-item flex-grow-1 text-center"},c.createElement("h6",{className:"m-1"},"Average height (cm)",c.createElement("br",null),c.createElement("span",{className:"badge rounded-pill bg-warning mt-1"},r))),c.createElement("li",{className:"list-group-item flex-grow-1 text-center"},c.createElement("h6",{className:"m-1"},"Average weight (kg)",c.createElement("br",null),c.createElement("span",{className:"badge rounded-pill bg-warning mt-1"},s)))))}function P(){const e=i((e=>null==e?void 0:e.myTeam));return c.createElement("div",{className:"h-100"},c.createElement("div",{className:"container-fluid h-100 d-flex flex-column align-items-center justify-content-center"},(null==e?void 0:e.length)?c.createElement(C,null):c.createElement("span",null),c.createElement(A,null)))}function F(e){return c.createElement("div",{className:"bg-danger d-inline-block rounded my-1"},c.createElement(b,{name:e.name,component:"div",style:{color:"white",padding:"2px"}}))}function H(){const[,e]=g();return c.createElement(c.Fragment,null,c.createElement("div",{className:"container py-5 px-4 shadow-lg bg-light rounded col-12 col-md-5"},c.createElement("div",{className:"text-center mb-3"},c.createElement("h4",null,c.createElement("strong",null,"Log in to build your team!"))),c.createElement(h,{initialValues:{email:"",password:""},validate:e=>{const t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i.test(e.email)||(t.email="⚠️ Invalid email address"):t.email="⚠️ Required",e.password||(t.password="⚠️ Required"),t},onSubmit:(t,{setSubmitting:a})=>{setTimeout((()=>{((t,a)=>{try{v.post("http://challenge-react.alkemy.org",{email:t,password:a}).then((t=>{var a;localStorage.setItem("token",null==(a=null==t?void 0:t.data)?void 0:a.token),e("/home")})).catch((e=>{alert("Unauthorized")}))}catch(l){console.log(l)}})(t.email,t.password),a(!1)}),400)}},(({isSubmitting:e})=>c.createElement(E,null,c.createElement("div",{className:"form-floating mb-2"},c.createElement(f,{type:"email",name:"email",className:"form-control",id:"floatingInput",placeholder:"email",autoComplete:"off"}),c.createElement(F,{name:"email"}),c.createElement("label",{htmlFor:"floatingInput"},"Email address")),c.createElement("div",{className:"form-floating mb-2"},c.createElement(f,{type:"password",name:"password",className:"form-control",id:"floatingPassword",placeholder:"Password"}),c.createElement(F,{name:"password"}),c.createElement("label",{htmlFor:"floatingPassword"},"Password")),c.createElement("button",{type:"submit",disabled:e,className:"btn btn-primary col-12 mb-2"},"Login"))))))}function M(){return c.createElement("div",{className:"h-100"},c.createElement("div",{className:"container-fluid h-100 d-flex align-items-center"},c.createElement(H,null)))}function z(){return c.createElement("div",null,"Page no founded")}function D(){const[,e]=g();return c.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark justify-content-between"},c.createElement("form",{className:"form-inline px-3"},c.createElement("button",{className:"btn btn-light",type:"button",onClick:()=>e("/home")},"Home"),c.createElement("button",{className:"btn btn-light mx-3",type:"button",onClick:()=>e("/search")},"Search")),c.createElement("form",{className:"form-inline px-3"},c.createElement("button",{className:"btn btn-outline-danger",type:"button",onClick:()=>(localStorage.removeItem("token"),void e("/login"))},"Sign out")))}function L(){return c.createElement(c.Fragment,null,c.createElement("div",{className:"h-100 d-flex justify-content-center align-items-center text-primary"},c.createElement("div",{className:"spinner-border",style:{width:"4rem",height:"4rem"},role:"status"},c.createElement("span",{className:"sr-only"}))))}function V({hero:e,is_in_my_team:t}){const a=d(),l=i((e=>null==e?void 0:e.myTeam)),n=i((e=>null==e?void 0:e.good)),r=i((e=>null==e?void 0:e.bad));return c.createElement("div",{className:"col-12 col-sm-6 col-md-4 col-xl-3 my-2",key:e.id},c.createElement("div",{className:"card h-100 overflow-hidden"},c.createElement("img",{src:e.image.url,className:"card-img h-100"}),c.createElement("p",{className:"good"===e.biography.alignment?"position-absolute text-light m-1 rounded px-1 bg-success":"position-absolute text-light m-1 rounded px-1 bg-danger",style:{right:"0"}},"good"===e.biography.alignment?"good":"bad"),c.createElement("div",{className:"card-img-overlay text-center d-flex flex-column justify-content-end"},c.createElement("div",{className:"bg-light rounded mb-2"},c.createElement("p",{className:"card-title p-1 mb-0"},e.name)),c.createElement("div",{className:"mt-1"},t?c.createElement("p",{className:"btn btn-primary m-0",style:{cursor:"default"}},"My team"):c.createElement("button",{onClick:()=>{var t;t=e,l.length<6?(n<3&&"good"===t.biography.alignment?(a(I(t,"good")),localStorage.setItem("myTeam",JSON.stringify([...l,t]))):r<3&&"good"!==t.biography.alignment&&(a(I(t,"bad")),localStorage.setItem("myTeam",JSON.stringify([...l,t]))),n>2&&"good"===t.biography.alignment?alert("You can only have 3 heroes"):r>2&&"good"!==t.biography.alignment&&alert("You can only have 3 villans")):alert("Your team is currently full")},className:"btn btn-success"},"Add to team")))))}function B(){const e=i((e=>null==e?void 0:e.searchResults)),t=i((e=>null==e?void 0:e.myTeam)),a=i((e=>null==e?void 0:e.top)),l=i((e=>null==e?void 0:e.spinner)),n=null==t?void 0:t.map((e=>e.id));return c.createElement("div",{className:a?"h-75 w-100 container-fluid overflow-auto rounded containerResults":"false",style:a?{backdropFilter:"blur(5px)"}:{overflow:"auto"}},l?c.createElement(L,null):c.createElement("span",null),c.createElement("div",{className:"row"},null==e?void 0:e.map((e=>c.createElement(V,{key:e.id,hero:e,is_in_my_team:!!n.includes(e.id)})))))}function J(){const e=i((e=>null==e?void 0:e.top)),t=d(),a=e=>{(e=>{try{v.get(`https://superheroapi.com/api.php/372344864528011/search/${e}`).then((e=>{t({type:"@hero/search",payload:null==e?void 0:e.data.results}),t(T(!1))})).catch((e=>console.log(e)))}catch(a){console.log(a)}})(e),t({type:"@ui/top",payload:!0}),t(T(!0))};return c.createElement("div",{className:"w-50"},!e&&c.createElement("h2",{className:"text-light shadow-sm bg-dark py-4 rounded text-center"},"Find heroes for your team"),c.createElement(h,{initialValues:{search:""},validate:e=>{const t={};return e.search||(t.search="⚠️ Empty field"),t},onSubmit:(e,{setSubmitting:t})=>{setTimeout((()=>{a(e.search),t(!1)}),400)}},(({isSubmitting:e})=>c.createElement(E,null,c.createElement("div",{className:"input-group mb-1"},c.createElement(f,{type:"text",name:"search",className:"form-control ",placeholder:"Search superhero","aria-label":"Search superhero","aria-describedby":"basic-addon2",autoComplete:"off"}),c.createElement("div",{className:"input-group-append"},c.createElement("button",{className:"btn btn-primary",type:"submit"},"Search"))),c.createElement(F,{name:"search"})))))}function X(){return c.createElement("div",{className:"h-100"},c.createElement("div",{className:"container-fluid h-100 d-flex flex-column align-items-center justify-content-center"},c.createElement(J,null),c.createElement(B,null)))}function U(){const[,e]=y("/:id");return c.createElement(c.Fragment,null,"login"===(null==e?void 0:e.id)?c.createElement("span",null):c.createElement(D,null),c.createElement(w,null,c.createElement(N,{exact:!0,path:"/",component:()=>null===localStorage.getItem("token")?c.createElement(x,{to:"/login"}):c.createElement(x,{to:"/home"})}),c.createElement(N,{path:"/home",component:()=>null===localStorage.getItem("token")?c.createElement(x,{to:"/login"}):c.createElement(P,null)}),c.createElement(N,{path:"/search",component:()=>null===localStorage.getItem("token")?c.createElement(x,{to:"/login"}):c.createElement(X,null)}),c.createElement(N,{path:"/login",component:()=>null!==localStorage.getItem("token")?c.createElement(x,{to:"/home"}):c.createElement(M,null)}),c.createElement(N,null,c.createElement(z,null))))}function Y(){const e=d();return p.exports.useEffect((()=>{null!==JSON.parse(localStorage.getItem("myTeam"))?JSON.parse(localStorage.getItem("myTeam")).map((t=>{e(I(t,t.biography.alignment))})):console.log("algo salio mal")}),[]),c.createElement("div",{style:{backgroundImage:"url(https://wallpapercave.com/wp/wp8793838.jpg)",height:"100vh",overflow:"hidden"}},c.createElement(U,null))}const Z={searchResults:[],myTeam:[],top:!1,spinner:!1,good:0,bad:0},q=S(((e=Z,t)=>{switch(t.type){case"@hero/search":return m(s({},e),{searchResults:t.payload});case"@hero/add":return"good"===t.alignment?m(s({},e),{myTeam:e.myTeam.concat(t.payload),good:e.good+1}):m(s({},e),{myTeam:e.myTeam.concat(t.payload),bad:e.bad+1});case"@hero/remove":let a=e.myTeam.filter((e=>e.id!==t.idHeroToRemove));return localStorage.setItem("myTeam",JSON.stringify(a)),"good"===t.alignment?m(s({},e),{myTeam:a,good:e.good-1}):m(s({},e),{myTeam:a,bad:e.bad-1});case"@ui/top":return m(s({},e),{top:t.payload});case"@ui/spinner":return m(s({},e),{spinner:t.payload});default:return}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());j.render(c.createElement(c.StrictMode,null,c.createElement(k,{store:q},c.createElement(Y,null))),document.getElementById("root"));
